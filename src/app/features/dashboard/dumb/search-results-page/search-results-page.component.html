<div class="search-container">
  <div class="container">
    <div class="pl-3 py-3">
      <span [ngClass]="{'active': activeLink === 'projects'}" class="pointer category-link"
            (click)="activeLinkChanged.emit('projects')">PROJECTS {{'(' + projectsList.length + ')'}}  </span>
      <span [ngClass]="{'active': activeLink === 'experiments'}" class="pointer category-link"
            (click)="activeLinkChanged.emit('experiments')">EXPERIMENTS {{'(' + experimentsList.length + ')'}}  </span>
      <span [ngClass]="{'active': activeLink === 'models'}" class="pointer category-link"
            (click)="activeLinkChanged.emit('models')">MODELS {{'(' + modelsList.length + ')'}}  </span>
      <span [ngClass]="{'active': activeLink === 'pipelines'}" class="pointer category-link"
            (click)="activeLinkChanged.emit('pipelines')">PIPELINES ({{pipelinesList?.length}})  </span>
    </div>
  </div>
  <div class="page-container">
    <sm-search-results
      [cardTemplate]="
        activeLink === 'projects' ? ProjectTemplate :
        activeLink === 'experiments' ? ExperimentTemplate :
        activeLink === 'models' ? ModelsTemplate :
        activeLink === 'pipelines' ? PipelineTemplate :
       ProjectTemplate"
      [results]="getResults()"
      [cardHeight]="getCardHeight()"
      (resultClicked)="projectClicked($event)">
    </sm-search-results>
  </div>

  <ng-template #ProjectTemplate let-project="result">
    <sm-project-card
      [project]="project"
      (projectCardClicked)="projectClicked($event)"
      [hideMenu]="true"
    ></sm-project-card>
  </ng-template>

  <ng-template #ExperimentTemplate let-experiment="result">
    <sm-experiment-card
      [experiment]="experiment"
      (experimentCardClicked)="experimentClicked($event)"
    ></sm-experiment-card>
  </ng-template>

  <ng-template #ModelsTemplate let-model="result">
    <sm-model-card
      [model]="model"
      (modelCardClicked)="modelClicked($event)"
    ></sm-model-card>
  </ng-template>

  <ng-template #PipelineTemplate let-pipeline="result">
    <sm-pipeline-card
      [project]="pipeline"
      [hideMenu]="true"
      (projectCardClicked)="pipelineClicked($event)"
    ></sm-pipeline-card>
  </ng-template>
</div>
